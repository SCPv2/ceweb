# Creative Energy Application Server Environment Configuration
# DBaaS DB 서버 사용 설정
#
# 목적: DBaaS PostgreSQL DB 서버와 연결하는 애플리케이션 서버의 환경변수 템플릿
# 작동방식: 이 파일을 애플리케이션 서버의 .env 파일로 복사하고 실제 값으로 수정하여 사용
# 사용법: cp .env.dbaas_db /home/rocky/ceweb/.env && vim /home/rocky/ceweb/.env
# 주의사항: 운영환경에서는 반드시 DB_PASSWORD와 JWT_SECRET을 강력한 값으로 변경해야 함
#

# =====================================
# DBaaS Database Configuration
# =====================================
DB_HOST=db.{{PRIVATE_DOMAIN_NAME}}
DB_PORT={{DB_PORT}}
DB_NAME=cedb
DB_USER=ceadmin
# 실제 운영 환경 비밀번호
DB_PASSWORD=ceadmin123!
DB_SSL=false

# =====================================
# Database Connection Pool Settings
# =====================================
# 최소 연결 수
DB_POOL_MIN=2
# 최대 연결 수
DB_POOL_MAX=10
# 유휴 연결 타임아웃 (ms)
DB_POOL_IDLE_TIMEOUT=30000
# 연결 타임아웃 (ms) - DBaaS DB이므로 충분히 설정
DB_POOL_CONNECTION_TIMEOUT=5000

# =====================================
# Server Configuration
# =====================================
# 애플리케이션 서버 포트
PORT={{APP_PORT}}
# 환경 (development, production, test)
NODE_ENV=production

# =====================================
# CORS Configuration
# =====================================
# 허용할 도메인 (쉼표로 구분)
ALLOWED_ORIGINS=http://www.{{PRIVATE_DOMAIN_NAME}},https://www.{{PRIVATE_DOMAIN_NAME}}

# =====================================
# Security Configuration
# =====================================
# JWT 비밀키 (32자 이상의 랜덤 문자열 권장)
JWT_SECRET=your_jwt_secret_key_minimum_32_characters_long

# =====================================
# Logging Configuration
# =====================================
# 로그 레벨 (error, warn, info, debug)
LOG_LEVEL=info

# =====================================
# Additional Settings (Optional)
# =====================================
# API 요청 타임아웃 (ms)
API_TIMEOUT=60000

# 세션 타임아웃 (ms)
SESSION_TIMEOUT=1800000

# 업로드 파일 최대 크기 (bytes)
MAX_FILE_SIZE=10485760